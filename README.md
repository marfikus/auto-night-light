
# Автоматический ночник.

Схема устройства представляет собой несколько ультразвуковых датчиков, направленных в разные стороны и настроенных на определённые расстояния срабатывания. Как только в зоне контроля хотя бы одного из датчиков появляется что-то вызывающее срабатывание (измеряемое расстояние становится меньше порогового несколько раз подряд), то включается освещение (в данном случае это 3 светодиода, также направленных в разные стороны). Одновременно запускается таймер на выключение освещения. Если появляются новые срабатывания, то таймер обновляется. Дополнительно реализовано плавное выключение света.

Ультразвуковые датчики были использованы за неимением датчиков движения. Но в общем со своей задачей они пока справляются, а потом можно будет заменить, для большей точности).

Статья про то, как всё это создавалось:
[Яндекс.Дзен](https://zen.yandex.ru/media/id/61672dfc62ecc820c3e4dc43/avtomaticheskii-nochnik-na-arduino-61de45852a8d9063787a83b4)  
[ВКонтакте](https://vk.com/@marfikus_notes-auto-night-light)  
[LiveJournal](https://marfikus.livejournal.com/19973.html)

Электрическая схема:
![Schematic_auto_night_light_2021-04-06](/Schematic_auto_night_light_2021-04-06.png "Schematic_auto_night_light_2021-04-06")

В ветке `sensors-auto-restart` немного модифицированный вариант: добавлена автоматическая перезагрузка датчиков при их зависании. Также немного изменена схема. Возможно, что это конкретно мой случай (один из датчиков иногда глючит), а в общем всё должно корректно работать по схеме и алгоритму, представленным в главной, то есть в этой ветке.
