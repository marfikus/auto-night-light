
Создаётся массив объектов по количеству датчиков.

У каждого объекта свои поля:
	состояние (или несколько флагов состояний)
	таймер
	текущее расстояние
	сохранённое расстояние (для сравнения)

Да, таймер и состояние тревоги можно сделать общим для всех, но кмк на текущий момент, так прикольнее). Пусть каждый датчик будет как бы самостоятельным, обособленным. Да и ресурсы мк позволяют, так что незачем думаю пока экономить).

Общие параметры:
	состояние освещения (или несколько флагов)
	яркость 

	интервал главного цикла в мс
	величина таймера выключения (единая для всех)


Процедура инициализации:
	состояние освещения = выключено
	порты освещения настраиваем на выход и устанавливаем в низкое состояние (0)

	состояния датчиков = покой (в цикле может)


Процедура включения света (запускается по требованию)
	устанавливаем максимальную яркость
	активируем состояние освещения = включено


Процедура выключения света (запускается в конце главного цикла)
	если есть тревога хотя бы у одного датчика
		выходим

	если состояние освещения = включено
		активируем состояние затухания
		уменьшаем яркость на определённое значение
		устанавливаем эту яркость

	иначе если состояние освещения = затухание
		уменьшаем яркость на определённое значение
		если яркость > 0
			устанавливаем эту яркость
		иначе
			устанавливаем яркость = 0 (выключаем свет)
			активируем состояние освещения = выключено


Главный цикл
	Проверяем каждый датчик (в цикле или отдельно пока)

		Замеряем расстояние

		если расстояние < нормы

			если состояние датчика = покой
				значит что-то появилось, тревога!)
				включаем свет (процедура)
				активируем состояние тревоги
				запускаем таймер на выключение
				запоминаем расстояние

			иначе если состояние датчика = тревога
				если текущее расстояние примерно равно значению в памяти (+- погрешность)
					то вероятно это тот же объект
					если таймер > 0
						уменьшаем таймер
					иначе
						активируем состояние контроля

				иначе
					есть изменения, снова тревога!
					включаем свет (процедура)
					снова запускаем таймер
					запоминаем расстояние

			иначе если состояние датчика = контроль
				если текущее расстояние отличается от значения в памяти
					есть изменения, снова тревога!
					включаем свет (процедура)
					активируем состояние тревоги
					запускаем таймер
					запоминаем расстояние

		иначе (расстояние >= нормы)
			если таймер > 0
				уменьшаем таймер
			иначе
				активируем состояние покоя датчика

	выключение света (процедура)
